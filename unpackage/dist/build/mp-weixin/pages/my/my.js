(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my"],{2612:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c3ac"));function i(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){this.getDate({format:!0});return{my_date:"",father_date:"",mother_date:"",age:"",isDis:!0,info:{my:{total:0,use:""},father:{total:0,use:""},mother:{total:0,use:""}}}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},methods:{getIsDis:function(){return!this.my_date||!this.age},count:function(){if((this.mother_date||this.father_date)&&(this.my_date<=this.father_date||this.my_date<=this.mother_date))t.showToast({icon:"none",title:"我的出生日期不能早于父母或者相同",mask:!0,duration:2e3});else if(this.age>150)t.showToast({icon:"none",title:"年龄最多不可超过150岁",mask:!0,duration:2e3});else{var e=(0,n.default)(this.my_date),a=(0,n.default)(new Date),i=parseInt(a.diff(e,"month",!0)),o=12*this.age;if(this.father_date){var s=parseInt(a.diff((0,n.default)(this.father_date),"month",!0));if(o<s)return void t.showToast({icon:"none",title:"期望年龄不可小于父亲当前年龄",mask:!0,duration:3e3})}if(this.mother_date){var r=parseInt(a.diff((0,n.default)(this.mother_date),"month",!0));if(o<r)return void t.showToast({icon:"none",title:"期望年龄不可小于母亲当前年龄",mask:!0,duration:3e3})}if(o<i)t.showToast({icon:"none",title:"期望年龄不可小于父母当前年龄",mask:!0,duration:3e3});else{if(this.info.my={total:o,use:i},this.father_date){var h=(0,n.default)(this.father_date),f=(0,n.default)(new Date),u=parseInt(f.diff(h,"month",!0)),d=12*this.age;this.info.father={total:d,use:u}}if(this.mother_date){var c=(0,n.default)(this.mother_date),l=(0,n.default)(new Date),g=parseInt(l.diff(c,"month",!0)),m=12*this.age;this.info.mother={total:m,use:g}}t.setStorageSync("my_date",this.my_date),t.setStorageSync("father_date",this.father_date),t.setStorageSync("mother_date",this.mother_date),t.setStorageSync("age",this.age),t.setStorageSync("info",this.info),t.showToast({title:"保存成功,即将跳转人生进度页面",icon:"none",mask:!0,duration:2e3}),t.switchTab({url:"../battery/battery"})}}},bindMyDateChange:function(t){this.my_date=t.target.value,this.isDis=this.getIsDis(),console.log(this.isDis)},bindFatherDateChange:function(t){this.father_date=t.target.value},bindmotherDateChange:function(t){this.mother_date=t.target.value},bindAgeChange:function(t){this.age=t.target.value,this.isDis=this.getIsDis()},getDate:function(t){var e=new Date,a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return"start"===t?a-=100:"end"===t&&(a+=100),n=n>9?n:"0"+n,i=i>9?i:"0"+i,"".concat(a,"-").concat(n,"-").concat(i)}},onShow:function(){this.info=t.getStorageSync("info"),console.log(this.info),this.info&&this.info.my&&this.info.my.total?(this.my_date=t.getStorageSync("my_date"),this.father_date=t.getStorageSync("father_date"),this.mother_date=t.getStorageSync("mother_date"),this.age=t.getStorageSync("age"),this.isDis=!1):this.info={my:{total:0,use:""},father:{total:0,use:""},mother:{total:0,use:""}},t.showShareMenu({withShareTicket:!0,title:"时间计算器",content:"计算时间间隔、计算年龄，查看人生进度，快来使用吧",path:"pages/index/index",success:function(t){console.log(t)}}),console.log(getApp().globalData)}};e.default=o}).call(this,a("543d")["default"])},"76ef":function(t,e,a){"use strict";var n=a("f4b1"),i=a.n(n);i.a},"97cb":function(t,e,a){"use strict";a.r(e);var n=a("2612"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},"9f70":function(t,e,a){"use strict";a.r(e);var n=a("a926"),i=a("97cb");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("76ef");var s,r=a("f0c5"),h=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=h.exports},a926:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},d9c8:function(t,e,a){"use strict";(function(t){a("3779"),a("921b");n(a("66fd"));var e=n(a("9f70"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},f4b1:function(t,e,a){}},[["d9c8","common/runtime","common/vendor"]]]);